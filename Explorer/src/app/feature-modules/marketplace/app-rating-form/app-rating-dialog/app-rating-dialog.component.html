<!-- app-rating-dialog.component.html -->
<h2 mat-dialog-title>Rate our App</h2>

<form [formGroup]="appRatingForm" (ngSubmit)="onSubmit()">
  <mat-dialog-content>
    <div class="dialog-content">
      <mat-form-field class="form-field">
        <mat-label>Grade (1-5)</mat-label>
        <input matInput
               type="number"
               formControlName="grade"
               min="1"
               max="5"
               required>
        <mat-error *ngIf="appRatingForm.get('grade')?.hasError('required')">
          Grade is required
        </mat-error>
        <mat-error *ngIf="appRatingForm.get('grade')?.hasError('min')">
          Grade must be at least 1
        </mat-error>
        <mat-error *ngIf="appRatingForm.get('grade')?.hasError('max')">
          Grade must be at most 5
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-field">
        <mat-label>Comment</mat-label>
        <textarea matInput
                  formControlName="comment"
                  cdkTextareaAutosize
                  cdkAutosizeMinRows="1"
                  cdkAutosizeMaxRows="5">
        </textarea>
      </mat-form-field>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button type="button" (click)="onCancel()">Cancel</button>
    <button mat-raised-button 
            color="primary" 
            type="submit" 
            [disabled]="!appRatingForm.valid">
      Submit
    </button>
  </mat-dialog-actions>
</form>