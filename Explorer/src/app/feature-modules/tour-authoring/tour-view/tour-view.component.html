<div class="title-container">
    <h1 mat-dialog-title>{{tour?.name}}</h1>
</div>
<div class="tour-container">
    <div class="row">
        <div class="map-container">
            <app-map [isViewOnly]="true"></app-map>
        </div>
        <div class="keypoints-container">
            <xp-key-points [tourId]="tourId" (displayKeyPoints)="displayKeyPoints()"></xp-key-points>
        </div>
    </div>

    <div class="row">
        <div class="tour-details">
            <div class="description outlined-desc">
                {{tour?.description}}sd fdsa fdsa fdsafdsafsdadsaffdsafdsadsafdsfdsafdsds
            </div>
            <div class="info-transport-container">
                <div class="info">
                    <h3>{{ getTourLevel(tour?.level) }} <span *ngIf="user?.role === 'author'">- {{ getTourStatus(tour?.status) }}</span></h3>
                    <h3 *ngIf="tour?.status === 1">Published: {{ tour?.publishedTime | date }}</h3>
                    <h3 *ngIf="tour?.status === 2">Archived: {{ tour?.archivedTime | date }}</h3>
                    <h3>Tags: {{ tour?.tags }}</h3>
                </div>
                <div class="transport">
                    <h3>Transport Durations</h3>
                    <ul>
                        <li *ngFor="let transport of tour?.transportDurationDtos" class="transport-duration">
                            <strong>{{ transport.duration }} min</strong> -
                            <strong>{{ getTransport(transport.transport) }}</strong> 
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="button-container">
            <div class="price-row">
                <h2>{{tour?.price?.amount}} {{getCurrency(tour?.price?.currency)}}</h2>
                <button mat-button class="secondary button-mg" *ngIf="tour?.status===1 && user?.role === 'tourist'">Buy now</button>
            </div>
            <div class="actions-row">
                <button mat-button class="secondary button-mg" *ngIf="tour?.status===1 && user?.role === 'author'">Archive</button>
                <button mat-button class="secondary button-mg" *ngIf="tour?.status===0 && user?.role === 'author'">Publish</button>
                <button mat-button class="secondary button-mg" *ngIf="tour?.status===1 && user?.role === 'tourist'">Activate</button>
                <button mat-button class="secondary button-mg" *ngIf="tour?.status===1 && user?.role === 'tourist'">Add review</button>
            </div>
        </div>
    </div>

    <div class="row">
        comment-section
    </div>

    <div class="row">
        <button mat-raised-button class="close" (click)="back()">
            <mat-icon>back</mat-icon>
            Home
        </button>
    </div>
</div>
